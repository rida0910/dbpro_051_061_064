@model IEnumerable<FreelancerMarketplace.Models.JobViewModel>

@{
    ViewBag.Title = "MyBids";
    Layout = "~/Views/Shared/_LayoutFreelancer.cshtml";
}
<body>

    <!-- Wrapper -->
    <div id="wrapper">

        <!-- Dashboard Container -->
        <div class="dashboard-container">

            <!-- Dashboard Sidebar
            ================================================== -->
            <div class="dashboard-sidebar">
                <div class="dashboard-sidebar-inner" data-simplebar>
                    <div class="dashboard-nav-container">

                        <!-- Responsive Navigation Trigger -->
                        <a href="#" class="dashboard-responsive-nav-trigger">
                            <span class="hamburger hamburger--collapse">
                                <span class="hamburger-box">
                                    <span class="hamburger-inner"></span>
                                </span>
                            </span>
                            <span class="trigger-title">Dashboard Navigation</span>
                        </a>

                        <!-- Navigation -->
                        <div class="dashboard-nav">
                            <div class="dashboard-nav-inner">

                                <ul data-submenu-title="Start">
                                    <li><a href="dashboard.html"><i class="icon-material-outline-dashboard"></i> Dashboard</a></li>
                                    <li><a href="dashboard-messages.html"><i class="icon-material-outline-question-answer"></i> Messages <span class="nav-tag">2</span></a></li>
                                </ul>



                                <ul data-submenu-title="Account">
                                    <li><a href="dashboard-settings.html"><i class="icon-material-outline-settings"></i> Settings</a></li>
                                    <li><a href="index-logged-out.html"><i class="icon-material-outline-power-settings-new"></i> Logout</a></li>
                                </ul>

                            </div>
                        </div>
                        <!-- Navigation / End -->

                    </div>
                </div>
            </div>
            <!-- Dashboard Sidebar / End -->
            <!-- Dashboard Content
            ================================================== -->
            <div class="dashboard-content-container" data-simplebar>
                <div class="dashboard-content-inner">

                    <!-- Dashboard Headline -->
                    <div class="dashboard-headline">
                        <h3>My Active Bids</h3>


                    </div>

                    <!-- Row -->
                    <div class="row">

                        <!-- Dashboard Box -->
                        <div class="col-xl-12">
                            <div class="dashboard-box margin-top-0">

                                <!-- Headline -->
                                <div class="headline">
                                    <h3><i class="icon-material-outline-gavel"></i> Bids List</h3>
                                </div>

                                <div class="content">
                                    <ul class="dashboard-box-list">

                                        @foreach (var item in Model)
    {
                                    <li>
                                        <!-- Job Listing -->
                                        <div class="job-listing width-adjustment">

                                            <!-- Job Listing Details -->
                                            <div class="job-listing-details">

                                                <!-- Details -->
                                                <div class="job-listing-description">
                                                    <h3 class="job-listing-title"><a href="#">@Html.DisplayFor(modelItem => item.Job.Title)</a></h3>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Task Details -->
                                        <ul class="dashboard-task-info">
                                            <li><strong>PKR @Html.DisplayFor(modelItem => item.Bid.PaymentAmount)</strong><span>Payment Amount</span></li>
                                            <li><strong>@Html.DisplayFor(modelItem => item.Bid.DeliveryTime)</strong><span>Delivery Date</span></li>
                                        </ul>

                                        <!-- Buttons -->
                                        <div class="buttons-to-right always-visible">
                                            <a href="#small-dialog" class="popup-with-zoom-anim button dark ripple-effect ico" title="Edit/Delete Bid" data-tippy-placement="top"><i class="icon-feather-edit"></i></a>
                                            
                                        </div>
                                    </li>


                                    <!-- Edit Bid Popup
================================================== -->
                                    <div id="small-dialog" class="zoom-anim-dialog mfp-hide dialog-with-tabs">

                                        <!--Tabs -->
                                        <div class="sign-in-form">

                                            <ul class="popup-tabs-nav">
                                                <li><a href="#Edit">Edit Bid</a></li>
                                                <li><a href="#Remove">Remove Bid</a></li>
                                            </ul>

                                            <div class="popup-tabs-container">

                                                <!-- Tab -->
                                                <div class="popup-tab-content" id="Edit">

                                                    <!-- Bidding -->
                                                    <div class="bidding-widget">
                                                        <!-- Headline -->
                                                        <span class="bidding-detail">Set your <strong>minimal rate</strong></span>

                                                        <!-- Price Slider -->
                                                        <div class="bidding-value">PKR<span id="biddingVal"></span></div>
                                                        <input class="bidding-slider" type="text" value="" data-slider-handle="custom" data-slider-currency="PKR" data-slider-min=@item.Job.MaxPayment data-slider-max=@item.Job.MaxPayment data-slider-value="auto" data-slider-step="1" data-slider-tooltip="hide" name="BidAmount" />

                                                        <!-- Headline -->
                                                        <span class="bidding-detail margin-top-30">Set your <strong>delivery time</strong></span>

                                                        <!-- Fields -->
                                                        <div class="bidding-fields">
                                                            <div class="bidding-field">
                                                                @Html.EditorFor(modelItem => item.Bid.DeliveryTime, new { @class = "datepicker form-control", placeholder = "Enter Delivery Time here..." })
                                                            </div>
                                                            
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- Button -->
                                                    <button onclick="location.href='@Url.Action("EditBid", "Freelancers", new { id = item.Bid.BidId})'" class="button full-width button-sliding-icon ripple-effect" type="submit">Save Changes <i class="icon-material-outline-arrow-right-alt"></i></button>

                                                </div>

                                                <div class="popup-tab-content" id="Remove">
                                                    <div class="bidding-widget">
                                                        <!-- Headline -->
                                                        <span class="bidding-detail"><strong>Are you sure you want to remove this bid?</strong></span>
                                                        <!-- Button -->
                                                        <button onclick="location.href='@Url.Action("CancelBid", "Freelancers", new { id = item.Bid.BidId})'" class="button full-width button-sliding-icon ripple-effect" type="submit">Remove Bid<i class="icon-material-outline-arrow-right-alt"></i></button>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                  
                                    <!-- Edit Bid Popup / End -->

}
</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Wrapper / End -->
    
    @*<!--Delete Popup-->
    <div id="small-dialog2" class="zoom-anim-dialog mfp-hide dialog-with-tabs">
        <!--Tabs -->
        <div class="sign-in-form">

            <ul class="popup-tabs-nav">
                <li><a href="#">Remove Bid</a></li>
            </ul>

            <div class="popup-tabs-container">

                <!-- Tab -->
                <div class="popup-tab-content" id="tab">
                </div>
            </div>
        </div>
    </div>*@










    <!-- Edit Bid Popup
        ================================================== -->
    <div id="small-dialog2" class="zoom-anim-dialog mfp-hide dialog-with-tabs">

        <!--Tabs -->
        <div class="sign-in-form">

            <ul class="popup-tabs-nav">
                <li><a href="#tab">Edit Bid</a></li>
            </ul>

            <div class="popup-tabs-container">

                <!-- Tab -->
                <div class="popup-tab-content" id="tab">

                    <!-- Bidding -->
                    <div class="bidding-widget">
                        <!-- Headline -->
                        <span class="bidding-detail">Set your <strong>minimal hourly rate</strong></span>

                        <!-- Price Slider -->
                        <div class="bidding-value">$<span id="biddingVal"></span></div>
                        <input class="bidding-slider" type="text" value="" data-slider-handle="custom" data-slider-currency="$" data-slider-min="10" data-slider-max="60" data-slider-value="40" data-slider-step="1" data-slider-tooltip="hide" />

                        <!-- Headline -->
                        <span class="bidding-detail margin-top-30">Set your <strong>delivery time</strong></span>

                        <!-- Fields -->
                        <div class="bidding-fields">
                            <div class="bidding-field">
                                <!-- Quantity Buttons -->
                                <div class="qtyButtons with-border">
                                    <div class="qtyDec"></div>
                                    <input type="text" name="qtyInput" value="2">
                                    <div class="qtyInc"></div>
                                </div>
                            </div>
                            <div class="bidding-field">
                                <select class="selectpicker default with-border">
                                    <option selected>Days</option>
                                    <option>Hours</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Button -->
                    <button class="button full-width button-sliding-icon ripple-effect" type="submit">Save Changes <i class="icon-material-outline-arrow-right-alt"></i></button>

                </div>

            </div>
        </div>
    </div>
    <!-- Edit Bid Popup / End -->



</body>
</html>